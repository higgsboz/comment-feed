(this["webpackJsonpcomment-feed"]=this["webpackJsonpcomment-feed"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"firstName":"Brandon","lastName":"Minner","occupation":"Software Engineer","location":{"state":"Ohio","country":"USA"}}')},24:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),a=c(19),r=c.n(a),o=(c(24),c(4)),i=c(7),l=c(5),d=c(6),j=c(0),b=function(e,t){if("string"===typeof t){var c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(t);if(c)return new Date(t);if(c=/^\/Date\((d|-|.*)\)[\/|\\]$/.exec(t)){var s=c[1].split(/[-+,.]/);return new Date(s[0]?+s[0]:0-+s[1])}}return t},m=Object(s.createContext)({}),u=function(e){var t=e.children,c=JSON.parse(localStorage.getItem("postData")||"[]",b),n=JSON.parse(localStorage.getItem("commentData")||"[]",b),a=Object(s.useState)(c),r=Object(o.a)(a,2),i=r[0],l=r[1],d=Object(s.useState)(n),u=Object(o.a)(d,2),O=u[0],x=u[1];return Object(j.jsx)(m.Provider,{value:{posts:i,setPosts:function(e){localStorage.setItem("postData",JSON.stringify(e)),l(e)},comments:O,setComments:function(e){localStorage.setItem("commentData",JSON.stringify(e)),x(e)}},children:t})};function O(){var e=Object(s.useContext)(m);if(void 0===e)throw new Error("useFeed must be used within a FeedProvider");return e}u.defaultProps={children:null};var x=c(3),f=c(12),h=c.n(f),p=36e5;function N(e){var t=h()(e),c=h()().diff(t),s=h()(c);return c<6e4?"Just now":c<p?"".concat(s.minute()," minutes ago"):c<864e5?"".concat(s.hour()," hours ago"):t.format("MM/DD/YYYY")}var y,v=c.p+"static/media/profile-pic.6fb0befb.png",g=c.p+"static/media/missing-avatar.c3f94521.png";!function(e){e[e.sm=40]="sm",e[e.lg=60]="lg"}(y||(y={}));var w=function(e){var t,c=e.className,s=e.size;return Object(j.jsx)("img",{src:v,className:null!==(t="rounded-circle ".concat(c))&&void 0!==t?t:"",width:y[s],height:y[s],alt:"avatar",onError:function(e){e.target.onerror=null,e.target.src=g}})};w.defaultProps={className:""};var k=w,S=function(e){var t=e.comment,c=t.id,n=t.text,a=t.likes,r=t.createdDate,b=t.createdBy,m=O(),u=m.comments,f=m.setComments,h=Object(s.useState)(!1),p=Object(o.a)(h,2),y=p[0],v=p[1],g=Object(s.useState)(n),w=Object(o.a)(g,2),S=w[0],D=w[1],C=function(e){f([].concat(Object(i.a)(u.slice(0,c-1)),[Object(x.a)(Object(x.a)({},u[c-1]),e)],Object(i.a)(u.slice(c))))},z=function(e){var c=e.target;"Enter"===e.key&&""!==c.value&&(C(Object(x.a)(Object(x.a)({},t),{},{text:c.value})),v(!1))};return Object(j.jsxs)("div",{className:"d-flex flex-row mt-3 mb-3 w-100",children:[Object(j.jsx)(k,{className:"me-2",size:"sm"}),Object(j.jsx)("div",{className:"card w-100",style:{backgroundColor:"#D9E1EB"},children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsx)("span",{className:"fw-bold",children:"".concat(b.firstName," ").concat(b.lastName)}),Object(j.jsx)("span",{className:"text-secondary",style:{fontSize:14},children:N(r)})]}),Object(j.jsx)("span",{className:"text-primary",style:{fontSize:14},children:b.occupation}),Object(j.jsx)("div",{style:{fontSize:14},children:y?Object(j.jsx)("textarea",{className:"form-control border-0 my-2",id:"commentEditTextarea",rows:2,value:S,placeholder:"Add a comment",style:{resize:"none"},autoFocus:!0,onBlur:function(){return v(!1)},onKeyPress:z,onChange:function(e){return D(e.target.value)}}):Object(j.jsx)("span",{children:n})}),Object(j.jsxs)("div",{className:"d-flex text-secondary",children:[Object(j.jsxs)("span",{className:"me-3",children:[a," Likes"]}),Object(j.jsx)("span",{className:"me-3",children:"|"}),Object(j.jsxs)("button",{className:"btn btn-link link-secondary me-3 p-0",type:"button",onClick:function(){C(Object(x.a)(Object(x.a)({},t),{},{likes:a+1}))},children:[Object(j.jsx)(l.a,{className:"me-2",icon:d.d,style:{fontSize:14}}),"Like"]}),Object(j.jsx)("span",{className:"me-3",children:"|"}),Object(j.jsxs)("button",{className:"btn btn-link link-secondary me-3 p-0",type:"button",onClick:function(){return v(!0)},children:[Object(j.jsx)(l.a,{className:"me-2",icon:d.f,style:{fontSize:14}}),"Edit"]}),Object(j.jsx)("span",{className:"me-3",children:"|"}),Object(j.jsxs)("button",{className:"btn btn-link link-secondary me-3 p-0",type:"button",onClick:function(){return C(Object(x.a)(Object(x.a)({},t),{},{isDeleted:!0}))},children:[Object(j.jsx)(l.a,{className:"me-2",icon:d.h,style:{fontSize:14}}),"Delete"]})]})]})})]})},D=c(11),C=function(e){var t=e.post,c=t.id,n=t.text,a=t.likes,r=t.createdDate,b=t.createdBy,m=O(),u=m.posts,f=m.setPosts,h=m.comments,p=m.setComments,y=Object(s.useState)(!1),v=Object(o.a)(y,2),g=v[0],w=v[1],C=Object(s.useState)(!1),z=Object(o.a)(C,2),E=z[0],P=z[1],B=Object(s.useState)(n),I=Object(o.a)(B,2),J=I[0],T=I[1],M=Object(s.useMemo)((function(){return h.filter((function(e){return e.postId===c&&!e.isDeleted})).sort((function(e,t){return t.createdDate.getTime()-e.createdDate.getTime()}))}),[c,h]),F=function(e){f([].concat(Object(i.a)(u.slice(0,c-1)),[Object(x.a)(Object(x.a)({},u[c-1]),e)],Object(i.a)(u.slice(c))))},L=function(e){"Enter"!==e.key||/\s/.test(e.target.value)||(F(Object(x.a)(Object(x.a)({},t),{},{text:e.target.value})),P(!1))};return Object(j.jsxs)("div",{className:"card shadow-sm rounded-3 mt-3",children:[Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"d-flex flex-row mb-3",children:[Object(j.jsx)(k,{size:"lg"}),Object(j.jsxs)("div",{className:"d-flex flex-row w-100 justify-content-between",children:[Object(j.jsxs)("div",{className:"ms-3",children:[Object(j.jsx)("div",{className:"fw-bold",children:"".concat(b.firstName," ").concat(b.lastName)}),Object(j.jsxs)("div",{className:"text-primary fw-bold",style:{fontSize:12},children:[Object(j.jsx)(l.a,{className:"me-2",icon:d.e}),b.location.state,", ",b.location.country]}),Object(j.jsx)("div",{className:"text-secondary fw-bold",style:{fontSize:12},children:N(r)})]}),Object(j.jsxs)("div",{className:"dropdown dropstart my-auto",children:[Object(j.jsx)("button",{className:"btn btn-link link-secondary p-0",type:"button",id:"Post-".concat(c,"-dropdown-button"),"data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(j.jsx)(l.a,{icon:d.c})}),Object(j.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"Post-".concat(c,"-dropdown-button"),children:[Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"btn btn-link dropdown-item",type:"button",onClick:function(){return P(!0)},disabled:E,children:"Edit"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"btn btn-link dropdown-item",type:"button",onClick:function(){return F(Object(x.a)(Object(x.a)({},t),{},{isDeleted:!0}))},children:"Delete"})})]})]})]})]}),Object(j.jsx)("div",{children:E?Object(j.jsx)("textarea",{className:"form-control border-0 ms-2 me-3 ps-1",id:"postEditTextarea",rows:2,value:J,placeholder:"What is on your mind?",style:{resize:"none"},autoFocus:!0,onBlur:function(){return P(!1)},onKeyPress:L,onChange:function(e){return T(e.target.value)}}):Object(j.jsx)("span",{children:n})}),Object(j.jsxs)("div",{className:"d-flex text-secondary mt-2",children:[a," Likes",Object(j.jsx)(l.a,{className:"my-auto mx-1",icon:d.a,style:{fontSize:4}}),M.length," Comments"]})]}),Object(j.jsxs)("div",{className:"card-footer",children:[Object(j.jsx)("span",{children:Object(j.jsxs)("button",{className:"btn btn-link link-secondary p-0",type:"button",onClick:function(){return F(Object(x.a)(Object(x.a)({},t),{},{likes:a+1}))},children:[Object(j.jsx)(l.a,{className:"me-2 text-secondary",icon:d.d}),"Like"]})}),Object(j.jsx)("span",{className:"ms-3",children:Object(j.jsxs)("button",{className:"btn btn-link link-secondary p-0 ".concat(g||M.length>0?"fw-bold":null),type:"button",onClick:function(){return w(!g)},style:{cursor:"pointer"},children:[Object(j.jsx)(l.a,{className:"me-2 text-secondary",icon:d.b}),"Comment"]})}),(g||M.length>0)&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"d-flex flex-row mt-3 mb-3 w-100",children:[Object(j.jsx)(k,{className:"me-2",size:"sm"}),Object(j.jsx)("input",{className:"px-3 w-100",placeholder:"Add a comment",onKeyPress:function(e){"Enter"===e.key&&""!==e.target.value&&(!function(e){var t={id:h.length+1,postId:c,text:e,likes:0,createdDate:new Date,createdBy:D,isDeleted:!1};p([].concat(Object(i.a)(h),[t]))}(e.target.value),e.target.value="")},style:{borderRadius:"25px",borderStyle:"solid"}})]}),M.map((function(e){return Object(j.jsx)(S,{comment:e},"Comment-".concat(e.id))}))]})]})]})},z=function(){var e=O(),t=e.posts,c=e.setPosts,n=Object(s.useState)(""),a=Object(o.a)(n,2),r=a[0],b=a[1];return Object(j.jsxs)("div",{className:"card shadow-sm rounded-3",children:[Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"mb-3 d-flex flex-row",children:[Object(j.jsx)(k,{size:"sm"}),Object(j.jsx)("textarea",{className:"form-control border-0 ms-2 ps-1",id:"postTextarea",rows:2,placeholder:"What is on your mind?",style:{resize:"none"},value:r,onChange:function(e){return b(e.target.value)}})]})}),Object(j.jsx)("div",{className:"card-footer bg-transparent",children:Object(j.jsxs)("div",{className:"d-flex flex-wrap justify-content-between",children:[Object(j.jsxs)("button",{type:"button",className:"btn btn-dark rounded-pill",children:[Object(j.jsx)(l.a,{className:"me-2",icon:d.g}),"Photo/Video"]}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){!function(e){var s={id:t.length+1,text:e,likes:0,createdDate:new Date,createdBy:D,isDeleted:!1};c([].concat(Object(i.a)(t),[s]))}(r),b("")},disabled:0===r.length,children:"Post It"})]})})]})},E=function(){var e=O().posts;return Object(j.jsx)("div",{className:"min-vh-100",style:{backgroundColor:"#D9E1EB"},children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"py-3",children:[Object(j.jsx)(z,{}),e.filter((function(e){return!e.isDeleted})).sort((function(e,t){return t.createdDate.getTime()-e.createdDate.getTime()})).map((function(e){return Object(j.jsx)(C,{post:e},"Post-".concat(e.id))}))]})})})},P=function(){return Object(j.jsx)(u,{children:Object(j.jsx)(E,{})})};c(31),c(52);r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(P,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.73859760.chunk.js.map