(this["webpackJsonpcomment-feed"]=this["webpackJsonpcomment-feed"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"firstName":"Brandon","lastName":"Minner","occupation":"Software Engineer","location":{"state":"Ohio","country":"USA"}}')},52:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),a=c(19),r=c.n(a),o=c(4),i=c(0),l=function(e,t){if("string"===typeof t){var c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(t);if(c)return new Date(t);if(c=/^\/Date\((d|-|.*)\)[\/|\\]$/.exec(t)){var s=c[1].split(/[-+,.]/);return new Date(s[0]?+s[0]:0-+s[1])}}return t},d=Object(s.createContext)({}),j=function(e){var t=e.children,c=JSON.parse(localStorage.getItem("postData")||"[]",l),n=JSON.parse(localStorage.getItem("commentData")||"[]",l),a=Object(s.useState)(c),r=Object(o.a)(a,2),j=r[0],m=r[1],b=Object(s.useState)(n),u=Object(o.a)(b,2),O=u[0],x=u[1];return Object(i.jsx)(d.Provider,{value:{posts:j,setPosts:function(e){localStorage.setItem("postData",JSON.stringify(e)),m(e)},comments:O,setComments:function(e){localStorage.setItem("commentData",JSON.stringify(e)),x(e)}},children:t})};function m(){var e=Object(s.useContext)(d);if(void 0===e)throw new Error("useFeed must be used within a FeedProvider");return e}j.defaultProps={children:null};var b=c(3),u=c(7),O=c(5),x=c(6),f=c(12),h=c.n(f),p=36e5;function N(e){var t=h()(e),c=h()().diff(t),s=h()(c);return c<6e4?"Just now":c<p?"".concat(s.minute()," minutes ago"):c<864e5?"".concat(s.hour()," hours ago"):t.format("MM/DD/YYYY")}var v,y=c.p+"static/media/profile-pic.6fb0befb.png",g=c.p+"static/media/missing-avatar.c3f94521.png";!function(e){e[e.sm=40]="sm",e[e.lg=60]="lg"}(v||(v={}));var k=function(e){var t,c=e.className,s=e.size;return Object(i.jsx)("img",{src:y,className:null!==(t="rounded-circle ".concat(c))&&void 0!==t?t:"",width:v[s],height:v[s],alt:"avatar",onError:function(e){var t=e.target;t.onerror=null,t.src=g}})};k.defaultProps={className:""};var w=k,D=function(e){var t=e.comment,c=t.id,n=t.text,a=t.likes,r=t.createdDate,l=t.createdBy,d=m(),j=d.comments,f=d.setComments,h=Object(s.useState)(!1),p=Object(o.a)(h,2),v=p[0],y=p[1],g=Object(s.useState)(n),k=Object(o.a)(g,2),D=k[0],S=k[1],C=function(e){f([].concat(Object(u.a)(j.slice(0,c-1)),[Object(b.a)(Object(b.a)({},j[c-1]),e)],Object(u.a)(j.slice(c))))},P=function(e){var c=e.target;"Enter"===e.key&&0!==c.value.trim().length&&(C(Object(b.a)(Object(b.a)({},t),{},{text:c.value})),y(!1))};return Object(i.jsxs)("div",{className:"d-flex flex-row mt-3 mb-3 w-100",children:[Object(i.jsx)(w,{className:"me-2",size:"sm"}),Object(i.jsx)("div",{className:"card rounded-card main-bg w-100",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)("span",{className:"fs-6 fw-normal text-secondary-dark",children:"".concat(l.firstName," ").concat(l.lastName)}),Object(i.jsx)("span",{className:"text-secondary fs-sm",children:N(r)})]}),Object(i.jsx)("span",{className:"text-primary fs-sm",children:l.occupation}),Object(i.jsx)("div",{className:"fs-sm",children:v?Object(i.jsx)("textarea",{className:"form-control border-0 my-2",id:"commentEditTextarea",rows:2,value:D,placeholder:"Add a comment",autoFocus:!0,onBlur:function(){return y(!1)},onKeyPress:P,onChange:function(e){return S(e.target.value)}}):Object(i.jsx)("span",{children:n})}),Object(i.jsxs)("div",{className:"d-flex flex-wrap text-secondary",children:[Object(i.jsxs)("span",{className:"me-2",children:[a," ",1===a?"Like":"Likes"]}),Object(i.jsx)("span",{className:"me-2",children:"|"}),Object(i.jsxs)("button",{className:"btn btn-link link-secondary me-2 p-0",type:"button",onClick:function(){C(Object(b.a)(Object(b.a)({},t),{},{likes:a+1}))},children:[Object(i.jsx)(O.a,{className:"me-2 fs-sm",icon:x.d}),"Like"]}),Object(i.jsx)("span",{className:"me-2",children:"|"}),Object(i.jsxs)("button",{className:"btn btn-link link-secondary me-2 p-0",type:"button",onClick:function(){return y(!0)},children:[Object(i.jsx)(O.a,{className:"me-2 fs-sm",icon:x.f}),"Edit"]}),Object(i.jsx)("span",{className:"me-2",children:"|"}),Object(i.jsxs)("button",{className:"btn btn-link link-secondary me-2 p-0",type:"button",onClick:function(){return C(Object(b.a)(Object(b.a)({},t),{},{isDeleted:!0}))},children:[Object(i.jsx)(O.a,{className:"me-2 fs-sm",icon:x.h}),"Delete"]})]})]})})]})},S=c(11),C=function(e){var t=e.post,c=t.id,n=t.text,a=t.likes,r=t.createdDate,l=t.createdBy,d=m(),j=d.posts,f=d.setPosts,h=d.comments,p=d.setComments,v=Object(s.useState)(!1),y=Object(o.a)(v,2),g=y[0],k=y[1],C=Object(s.useState)(!1),P=Object(o.a)(C,2),E=P[0],B=P[1],I=Object(s.useState)(n),J=Object(o.a)(I,2),T=J[0],z=J[1],L=Object(s.useMemo)((function(){return h.filter((function(e){return e.postId===c&&!e.isDeleted})).sort((function(e,t){return t.createdDate.getTime()-e.createdDate.getTime()}))}),[c,h]),M=function(e){f([].concat(Object(u.a)(j.slice(0,c-1)),[Object(b.a)(Object(b.a)({},j[c-1]),e)],Object(u.a)(j.slice(c))))},F=function(e){var c=e.target;"Enter"===e.key&&0!==c.value.trim().length&&(M(Object(b.a)(Object(b.a)({},t),{},{text:c.value})),B(!1))};return Object(i.jsxs)("div",{className:"card shadow-sm rounded-card mt-3",children:[Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("div",{className:"d-flex flex-row mb-3",children:[Object(i.jsx)(w,{size:"lg"}),Object(i.jsxs)("div",{className:"d-flex flex-row w-100 justify-content-between",children:[Object(i.jsxs)("div",{className:"fw-normal ms-3 text-secondary-dark",children:[Object(i.jsx)("div",{children:"".concat(l.firstName," ").concat(l.lastName)}),Object(i.jsxs)("div",{className:"text-primary fs-sm",children:[Object(i.jsx)(O.a,{className:"me-2",icon:x.e}),l.location.state,", ",l.location.country]}),Object(i.jsx)("div",{className:"text-secondary fs-sm",children:N(r)})]}),Object(i.jsxs)("div",{className:"dropdown dropstart my-auto",children:[Object(i.jsx)("button",{className:"btn btn-link link-secondary p-0",type:"button",id:"Post-".concat(c,"-dropdown-button"),"data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(i.jsx)(O.a,{icon:x.c})}),Object(i.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"Post-".concat(c,"-dropdown-button"),children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"btn btn-link dropdown-item",type:"button",onClick:function(){return B(!0)},disabled:E,children:"Edit"})}),Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"btn btn-link dropdown-item",type:"button",onClick:function(){return M(Object(b.a)(Object(b.a)({},t),{},{isDeleted:!0}))},children:"Delete"})})]})]})]})]}),Object(i.jsx)("div",{children:E?Object(i.jsx)("textarea",{className:"form-control border-0 ms-2 me-3 ps-1",id:"postEditTextarea",rows:2,value:T,placeholder:"What is on your mind?",autoFocus:!0,onBlur:function(){B(!1),z(n)},onKeyPress:F,onChange:function(e){return z(e.target.value)}}):Object(i.jsx)("span",{children:n})}),Object(i.jsxs)("div",{className:"d-flex text-secondary mt-2",children:[a," ",1===a?"Like":"Likes",Object(i.jsx)(O.a,{className:"my-auto mx-1",icon:x.a,style:{fontSize:4}}),L.length," Comments"]})]}),Object(i.jsxs)("div",{className:"card-footer",children:[Object(i.jsx)("span",{children:Object(i.jsxs)("button",{className:"btn btn-link link-secondary p-0",type:"button",onClick:function(){return M(Object(b.a)(Object(b.a)({},t),{},{likes:a+1}))},children:[Object(i.jsx)(O.a,{className:"me-2 text-secondary",icon:x.d}),"Like"]})}),Object(i.jsx)("span",{className:"ms-3",children:Object(i.jsxs)("button",{className:"btn btn-link link-secondary p-0 ".concat(g||L.length>0?"fw-bold":null),type:"button",onClick:function(){return k(!g)},children:[Object(i.jsx)(O.a,{className:"me-2 text-secondary",icon:x.b}),"Comment"]})}),(g||L.length>0)&&Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"d-flex flex-row mt-3 mb-3 w-100",children:[Object(i.jsx)(w,{className:"me-2",size:"sm"}),Object(i.jsx)("input",{className:"input-pill px-3 w-100",placeholder:"Add a comment",onKeyPress:function(e){var t=e.target;"Enter"===e.key&&0!==t.value.trim().length&&(!function(e){var t={id:h.length+1,postId:c,text:e,likes:0,createdDate:new Date,createdBy:S,isDeleted:!1};p([].concat(Object(u.a)(h),[t]))}(t.value),t.value="")}})]}),L.map((function(e){return Object(i.jsx)(D,{comment:e},"Comment-".concat(e.id))}))]})]})]})},P=function(){var e=m(),t=e.posts,c=e.setPosts,n=Object(s.useState)(""),a=Object(o.a)(n,2),r=a[0],l=a[1];return Object(i.jsxs)("div",{className:"card shadow-sm rounded-card",children:[Object(i.jsx)("div",{className:"card-body",children:Object(i.jsxs)("div",{className:"mb-3 d-flex flex-row",children:[Object(i.jsx)(w,{size:"sm"}),Object(i.jsx)("textarea",{className:"form-control border-0 ms-2 ps-1",id:"postTextarea",rows:2,placeholder:"What is on your mind?",value:r,onChange:function(e){return l(e.target.value)}})]})}),Object(i.jsx)("div",{className:"card-footer bg-transparent",children:Object(i.jsxs)("div",{className:"d-flex flex-wrap justify-content-between",children:[Object(i.jsxs)("button",{type:"button",className:"btn btn-dark rounded-pill mt-1",children:[Object(i.jsx)(O.a,{className:"me-2",icon:x.g}),"Photo/Video"]}),Object(i.jsx)("button",{type:"button",className:"btn btn-primary mt-1",onClick:function(){!function(e){var s={id:t.length+1,text:e,likes:0,createdDate:new Date,createdBy:S,isDeleted:!1};c([].concat(Object(u.a)(t),[s]))}(r),l("")},disabled:0===r.trim().length,children:"Post It"})]})})]})},E=function(){var e=m().posts;return Object(i.jsx)("div",{className:"main-bg min-vh-100",children:Object(i.jsx)("div",{className:"container-sm",children:Object(i.jsxs)("div",{className:"py-3",children:[Object(i.jsx)(P,{}),e.filter((function(e){return!e.isDeleted})).sort((function(e,t){return t.createdDate.getTime()-e.createdDate.getTime()})).map((function(e){return Object(i.jsx)(C,{post:e},"Post-".concat(e.id))}))]})})})},B=function(){return Object(i.jsx)(j,{children:Object(i.jsx)(E,{})})};c(30),c(51),c(52);r.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(B,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.cf20193f.chunk.js.map